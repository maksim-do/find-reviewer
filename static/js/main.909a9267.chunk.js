(this["webpackJsonpget-reviewer"]=this["webpackJsonpget-reviewer"]||[]).push([[0],{15:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var c=r(1),a=r.n(c),n=r(9),s=r.n(n),l=(r(15),r(2)),i=r(4),o=r.n(i),u=r(7),d=r(3),j=r.n(d),b=r(10),m=function(e){var t,r=e.map((function(e){return e.id}));do{t=(Math.floor(1679616*Math.random())+0).toString(36)}while(r.includes(t));return t},v=r(0),h=function(e){var t=e.id,r=e.value,c=e.removeEl;return Object(v.jsx)("a",{href:"/#",className:"list-group-item list-group-item-action",onClick:c(t),children:r})},f=function(e){var t=Object(c.useState)(""),r=Object(l.a)(t,2),a=r[0],n=r[1],s=Object(c.useRef)(null),i=e.blackList,o=e.addElBlackList,u=e.removeEl,d=i.map((function(e){var t=e.id,r=e.value;return Object(v.jsx)(h,{id:t,value:r,removeEl:u},t)}));return Object(v.jsx)("div",{className:"card",children:Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsx)("h5",{className:"card-title",children:"BlackList"}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-8 input-group-sm col-md-10",children:Object(v.jsx)("input",{type:"text",className:"form-control",ref:s,value:a,onChange:function(e){n(e.target.value)},name:"addblacklist",id:"addblacklist"})}),Object(v.jsx)("div",{className:"col-4 col-md-2",children:Object(v.jsx)("button",{type:"button",onClick:function(e){var t;e.preventDefault(),t=a,i.map((function(e){return e.value})).includes(t)||""===a||o([{id:m(i),value:a}].concat(Object(b.a)(i))),n(""),s.current.focus()},className:"btn btn-sm btn-primary col-12",children:"add"})}),i.length>0&&Object(v.jsx)("div",{className:"list-group col-12 pl-3 mt-3",children:d})]})]})})},O=function(e){var t=e.value,r=e.onChange,c=e.valid,a=j()({"form-control":!0,"is-invalid":c});return Object(v.jsxs)("div",{className:"form-group col-12 col-sm-6",children:[Object(v.jsx)("label",{htmlFor:"repo",className:"col-form-label",children:"Repository"}),Object(v.jsx)("input",{type:"text",className:a,value:t,onChange:r,name:"repo",id:"repo"}),Object(v.jsx)("div",{className:"invalid-feedback",children:"Please fill in the field."})]})},x=function(e){var t=e.value,r=e.onChange,c=e.valid,a=j()({"form-control":!0,"is-invalid":c});return Object(v.jsxs)("div",{className:"form-group col-12 col-sm-6",children:[Object(v.jsx)("label",{htmlFor:"username",className:"col-form-label",children:"Username"}),Object(v.jsx)("input",{type:"text",className:a,value:t,onChange:r,name:"username",id:"username"}),Object(v.jsx)("div",{className:"invalid-feedback",children:"Please fill in the field."})]})},p=function(e){var t=e.disabled,r=e.onClick;return Object(v.jsx)("button",{type:"button",className:"btn btn-primary",onClick:r,disabled:t,children:"find reviewer"})},N=function(e){var t=e.value,r=e.onClick,c=t?"Show":"Hide";return Object(v.jsxs)("button",{type:"button",className:"btn btn-info ml-4",onClick:r,children:[c," ","filter"]})};var g=function(e){var t=e.setAnswer,r=Object(c.useState)(!1),a=Object(l.a)(r,2),n=a[0],s=a[1],i=Object(c.useState)(""),d=Object(l.a)(i,2),b=d[0],m=d[1],h=Object(c.useState)(!0),g=Object(l.a)(h,2),k=g[0],w=g[1],y=Object(c.useState)(""),S=Object(l.a)(y,2),C=S[0],E=S[1],L=Object(c.useState)(!0),V=Object(l.a)(L,2),D=V[0],M=V[1],R=Object(c.useState)([]),U=Object(l.a)(R,2),A=U[0],B=U[1],F=Object(c.useState)(!1),J=Object(l.a)(F,2),H=J[0],I=J[1],_="https://api.github.com/repos/".concat(b,"/").concat(C,"/contributors"),P=new URL(_),Q=j()({"border-0":!0,"mt-2":!0,"col-12":!0,card:!0,collapse:n}),T=k||D||H;return Object(c.useLayoutEffect)((function(){var e=JSON.parse(localStorage.getItem("filterState"));null!==e&&(s(e.hide),m(e.userNameValue),w(e.userNameValid),E(e.repoValue),M(e.repoValid),B(e.blackList))}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:Q,children:Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)(x,{value:b,valid:k,onChange:function(e){var t=e.target.value.trim();m(t),w(""===t)}}),Object(v.jsx)(O,{value:C,valid:D,onChange:function(e){var t=e.target.value.trim();E(t),M(""===t)}})]}),Object(v.jsx)(f,{blackList:A,addElBlackList:B,onKeyDown:function(e){13===e.keyCode&&e.preventDefault()},removeEl:function(e){return function(t){t.preventDefault(),B(A.filter((function(t){return t.id!==e})))}}})]})}),Object(v.jsx)("div",{className:"card col-12 border border-0",children:Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsx)(p,{disabled:T,onClick:function(e){(e.preventDefault(),I(!0),T)||function(){var e=Object(u.a)(o.a.mark((function e(){var r,c,a,s,i,u,d,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(P);case 3:if(!(r=e.sent).ok){e.next=23;break}return e.next=7,r.json();case 7:c=e.sent,a=A.map((function(e){return e.value.toLowerCase()})),s=c.filter((function(e){var t=e.login;return!a.includes(t)})),i=s.length,e.t0=i,e.next=0===e.t0?14:1===e.t0?16:19;break;case 14:return u=null,e.abrupt("break",20);case 16:return d=Object(l.a)(s,1),u=d[0],e.abrupt("break",20);case 19:u=s[(o=i,Math.floor(Math.random()*(o-0+1))+0)];case 20:t({result:"answer",response:{reviewer:u,contributors:c,currentUser:b}}),e.next=24;break;case 23:t({result:"notAnswer",response:"Error getting the list of contributors. Error ".concat(r.status)});case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(0),t({result:"error",response:"Error: ".concat(e.t1.message,".")});case 29:j={hide:n,userNameValue:b,userNameValid:k,repoValue:C,repoValid:D,blackList:A},localStorage.setItem("filterState",JSON.stringify(j)),I(!1);case 32:case"end":return e.stop()}var o}),e,null,[[0,26]])})));return function(){return e.apply(this,arguments)}}()()}}),Object(v.jsx)(N,{value:n,onClick:function(){s(!n)}})]})})]})},k=function(e){var t=e.user,r=Object(c.useState)(null),a=Object(l.a)(r,2),n=a[0],s=a[1],i="https://api.github.com/users/".concat(t),d=new URL(i);return Object(c.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d);case 3:if(!(t=e.sent).ok){e.next=11;break}return e.next=7,t.json();case 7:r=e.sent,s(r.avatar_url),e.next=12;break;case 11:s(null);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),s(null);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(v.jsx)("div",{className:"card col-12 border-0",children:Object(v.jsxs)("div",{className:"card-body fullHeight",children:[Object(v.jsx)("h4",{className:"card-title mt-3",children:"Current user"}),Object(v.jsx)("h5",{className:"card-subtitle mb-2",children:t}),null!==n&&Object(v.jsx)("img",{className:"card-img-top",src:n,alt:"Not found foto"})]})})},w=function(e){var t=e.user,r=t.login,c=t.avatar_url;return Object(v.jsx)("div",{className:"col",children:Object(v.jsx)("div",{className:"card h-100 border-0",children:Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsx)("div",{className:"card-title",children:Object(v.jsx)("h5",{children:r})}),Object(v.jsx)("img",{className:"card-img-top",src:c,alt:"Not found foto"})]})})})},y=function(e){var t=e.contributors.map((function(e){return Object(v.jsx)(w,{user:e},e.id)}));return Object(v.jsx)("div",{className:"card col-12 border-0",children:Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsx)("h4",{className:"card-title mt-5",children:"The list of contributors"}),Object(v.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:t})]})})},S=function(e){var t=e.user,r=t.login,c=t.avatar_url;return Object(v.jsx)("div",{className:"card col-12 border-0",children:Object(v.jsxs)("div",{className:"card-body fullHeight",children:[Object(v.jsx)("h4",{className:"card-title mt-3",children:"Reviever"}),Object(v.jsx)("h5",{className:"card-subtitle mb-2",children:r}),Object(v.jsx)("img",{className:"card-img-top",src:c,alt:"Not found foto"})]})})},C=function(e){var t=e.text;return Object(v.jsx)("div",{className:"card col-12 border-0",children:Object(v.jsx)("div",{className:"card-body",children:Object(v.jsx)("div",{className:"card-title",children:Object(v.jsx)("h3",{children:t})})})})},E=function(e){var t,r=e.data,c=r.result,a=r.response;switch(c){case"error":case"notAnswer":t=function(e){return Object(v.jsx)(C,{text:e})};break;case"notQuery":t=function(){return null};break;case"answer":t=function(e){var t=e.reviewer,r=e.contributors,c=e.currentUser;return void 0===t?function(){return Object(v.jsx)(C,{text:"Something went wrong"})}:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(k,{user:c}),null===t&&Object(v.jsx)(C,{text:"The reviewer was not found"}),null!==t&&Object(v.jsx)(S,{user:t}),Object(v.jsx)(y,{contributors:r})]})};break;default:t=function(){return Object(v.jsx)(C,{text:"Something went wrong"})}}return t(a)};var L=function(){var e=Object(c.useState)({result:"notQuery"}),t=Object(l.a)(e,2),r=t[0],a=t[1];return Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("div",{className:"row",children:Object(v.jsx)(g,{setAnswer:a})}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)(E,{data:r})})]})};r(18);s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(L,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.909a9267.chunk.js.map